---
import { getTranslation, getCurrentLang } from '../i18n/utils.js';

const lang = getCurrentLang(Astro.url);
const t = getTranslation(lang);

const products = [
  {
    name: t.featured.products.bracelet,
    description: t.featured.products.braceletDesc,
    image: '/480873029_560637023658848_1633972412637007552_n.jpg',
    price: '387,000 DA'
  },
  {
    name: t.featured.products.necklace,
    description: t.featured.products.necklaceDesc,
    image: '/480990848_560637280325489_4412389205364911132_n.jpg',
    price: '419,000 DA'
  },
  {
    name: t.featured.products.parure,
    description: t.featured.products.parureDesc,
    image: '/481452647_560637203658830_2787036932226901752_n.jpg',
    price: '483,000 DA'
  }
];
---

<section class="py-20 bg-cream">
  <div class="container mx-auto px-8 md:px-16 lg:px-24">
    <!-- Section Header -->
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-serif font-bold text-dark mb-4">
        {t.featured.title}
      </h2>
      <p class="text-xl text-text-light max-w-2xl mx-auto">
        {t.featured.subtitle}
      </p>
      <div class="w-24 h-1 bg-gold mx-auto mt-6"></div>
    </div>

    <!-- Products Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
      {products.map((product, index) => (
        <div class="group bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 animate-slide-up" style={`animation-delay: ${index * 0.2}s;`}>
          <!-- Product Image -->
          <div class="relative h-64 overflow-hidden">
            <img 
              src={product.image} 
              alt={product.name}
              class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"
              loading="lazy"
            />
            <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"></div>
          </div>
          
          <!-- Product Info -->
          <div class="p-6 space-y-4">
            <h3 class="text-xl font-semibold text-dark group-hover:text-gold transition-colors">
              {product.name}
            </h3>
            <p class="text-text-light leading-relaxed text-justify">
              {product.description}
            </p>
            <div class="flex justify-between items-center pt-4">
              <span class="text-2xl font-bold text-gold">{product.price}</span>
              
            </div>
          </div>
        </div>
      ))}
    </div>

    <!-- View All Button -->
    <div class="text-center">
      <a 
        href={lang === 'ar' ? '/gallery' : '/fr/gallery'}
        class="inline-flex items-center px-8 py-4 bg-transparent border-2 border-gold text-gold font-semibold rounded-lg hover:bg-gold hover:text-white transition-all duration-300"
      >
        {t.featured.viewAll}
        <svg class="w-5 h-5 ml-2 rtl:ml-0 rtl:mr-2 rtl:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
        </svg>
      </a>
    </div>
  </div>
</section>